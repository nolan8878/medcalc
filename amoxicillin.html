<!DOCTYPE html>
<html>
<head>
  <title>Amoxicillin Syrup Dose Calculator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
  <h1>Amoxicillin Dose Calculator</h1>
  <a href="index.html" style="
  display:inline-block;
  margin-bottom:14px;
  color:#555;
  text-decoration:none;
  font-size:14px;
">
‚Üê Back
</a>


  <!-- Weight -->
  <label><b>Child weight</b></label>
  <div class="weight-row">
    <input type="number" id="weight" placeholder="e.g. 12">
    <span>kg</span>
  </div>

  <!-- Strength -->
  <label style="margin-top:14px;"><b>Syrup strength</b></label>
  <div class="strength-grid">
    <label><input type="radio" name="strength" value="25" checked> 125 mg / 5 ml</label>
    <label><input type="radio" name="strength" value="50"> 250 mg / 5 ml</label>
  </div>

  <!-- Button -->
  <button class="main-btn" onclick="calculateAmox()">Calculate</button>

  <!-- Result -->
  <div class="result" id="result"></div>

  <!-- Scope -->
  <div class="scope">
    <b>Scope note:</b><br>
    This calculator provides <b>general paediatric dosing only</b>.<br>
    For indication-specific dosing (e.g. <i>Strep A, otitis media, pneumonia</i>),
    refer to <b>local or national guidelines</b>.
  </div>

  <!-- Reference -->
  <p class="ref">
    <b>Reference:</b><br>
    MIMS Malaysia, Malaysian Paediatric Protocols (MOH), BNF for Children.<br>
    Dose: 20‚Äì40 mg/kg/day in divided doses (TDS).<br>
    ‚â•40 kg uses adult dosing.
  </p>

  <p class="warn">
    ‚ö†Ô∏è For medical professionals only. Always verify with official references.
  </p>
</div>

<!-- Floating Dark Mode Button -->
<button id="darkToggle" onclick="toggleDark()">üåô</button>

<script>
function calculateAmox() {
  const weight = parseFloat(document.getElementById("weight").value);
  const mgPerMl = parseFloat(document.querySelector('input[name="strength"]:checked').value);

  if (!weight || weight <= 0) {
    alert("Enter weight");
    return;
  }

  let totalDailyMg;

  if (weight >= 40) {
    totalDailyMg = 1500;
  } else {
    totalDailyMg = weight * 25;
  }

  if (totalDailyMg > 3000) totalDailyMg = 3000;

  const doseMg = totalDailyMg / 3;
  const ml = doseMg / mgPerMl;

  document.getElementById("result").innerHTML =
    `Give <b>${ml.toFixed(1)} ml</b> per dose (TDS)<br>
     Total daily dose: ${totalDailyMg.toFixed(0)} mg` +
    (weight >= 40 ? "<br><small>(Adult dose applied)</small>" : "");
}

function toggleDark() {
  document.body.classList.toggle("dark");
  localStorage.setItem("darkMode", document.body.classList.contains("dark"));
}

if (localStorage.getItem("darkMode") === "true") {
  document.body.classList.add("dark");
}
</script>

</body>
</html>
