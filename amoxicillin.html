<!DOCTYPE html>
<html>
<head>
  <title>Amoxicillin Syrup Dose Calculator (Paediatric)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">

  <div style="display:flex;justify-content:space-between;align-items:center;">
    <h1>Amoxicillin Dose Calculator</h1>
    <button onclick="toggleDark()" style="padding:6px 10px;border-radius:8px;">üåô</button>
  </div>

  <!-- Weight -->
  <label><b>Child weight</b></label>
  <div style="display:flex;align-items:center;gap:8px;margin-top:4px;">
    <input
      type="number"
      id="weight"
      step="0.1"
      placeholder="e.g. 12"
      style="
        width:120px;
        padding:10px;
        border-radius:10px;
        border:1px solid #ccc;
        font-size:16px;
      "
    >
    <span>kg</span>
  </div>

  <!-- Strength -->
  <div style="margin-top:14px;">
    <label><b>Syrup strength</b></label>

    <div style="
      display:grid;
      grid-template-columns:20px auto;
      column-gap:12px;
      row-gap:12px;
      align-items:center;
      margin-top:8px;
    ">
      <input type="radio" name="strength" value="25" checked style="transform:scale(0.9);">
      <span>125 mg / 5 ml</span>

      <input type="radio" name="strength" value="50" style="transform:scale(0.9);">
      <span>250 mg / 5 ml</span>
    </div>
  </div>

  <!-- Button -->
  <button onclick="calculateAmox()" style="margin-top:16px;">Calculate</button>

  <!-- Result -->
  <div class="result" id="result"></div>

  <!-- Scope note -->
  <div class="scope" style="margin-top:16px;padding:10px;border-radius:8px;font-size:13px;">
    <b>Scope note:</b><br>
    This calculator provides <b>general paediatric dosing only</b>.<br>
    For indication-specific dosing (e.g. <i>Strep A, otitis media, pneumonia</i>),
    refer to <b>local or national guidelines</b>.
  </div>

  <!-- References -->
  <p style="font-size:13px;margin-top:14px;">
    <b>Reference:</b><br>
    MIMS Malaysia, Malaysian Paediatric Protocols (MOH), BNF for Children.<br>
    Dose: 20‚Äì40 mg/kg/day in divided doses (TDS).<br>
    ‚â•40 kg uses adult dosing.
  </p>

  <p style="font-size:12px;color:#666;">
    ‚ö†Ô∏è For medical professionals only. Always verify with official references.
  </p>

</div>

<script>
function calculateAmox() {
  const weight = parseFloat(document.getElementById("weight").value);
  const mgPerMl = parseFloat(
    document.querySelector('input[name="strength"]:checked').value
  );

  if (!weight || weight <= 0) {
    alert("Enter weight");
    return;
  }

  let totalDailyMg;

  if (weight >= 40) {
    totalDailyMg = 1500; // adult dose
  } else {
    totalDailyMg = weight * 25;
  }

  if (totalDailyMg > 3000) {
    totalDailyMg = 3000;
  }

  const doseMg = totalDailyMg / 3;
  const ml = doseMg / mgPerMl;

  document.getElementById("result").innerHTML =
    `Give <b>${ml.toFixed(1)} ml</b> per dose (TDS)<br>
     Total daily dose: ${totalDailyMg.toFixed(0)} mg` +
    (weight >= 40 ? "<br><small>(Adult dose applied)</small>" : "");
}

/* Dark mode */
function toggleDark() {
  document.body.classList.toggle("dark");
  localStorage.setItem("darkMode", document.body.classList.contains("dark"));
}

if (localStorage.getItem("darkMode") === "true") {
  document.body.classList.add("dark");
}
</script>

</body>
</html>
