<!DOCTYPE html>
<html>
<head>
  <title>Amoxicillin Syrup Dose Calculator (Paediatric)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
  <h1>Amoxicillin Syrup Dose Calculator</h1>

  <!-- Weight -->
  <label><b>Child weight (kg)</b></label>
  <input type="number" id="weight" step="0.1" placeholder="e.g. 12">

  <!-- Strength -->
  <div style="margin-top:12px;">
    <label><b>Syrup strength</b></label>

    <div style="display:flex;align-items:center;margin-top:6px;">
      <input type="radio" name="strength" value="25" checked style="margin-right:8px;">
      <span>125 mg / 5 ml</span>
    </div>

    <div style="display:flex;align-items:center;margin-top:6px;">
      <input type="radio" name="strength" value="50" style="margin-right:8px;">
      <span>250 mg / 5 ml</span>
    </div>
  </div>

  <!-- Button -->
  <button onclick="calculateAmox()">Calculate</button>

  <!-- Result -->
  <div class="result" id="result"></div>

  <!-- Scope note -->
  <div style="margin-top:15px;padding:10px;background:#fff3cd;border-radius:6px;font-size:13px;">
    <b>Scope note:</b><br>
    This calculator provides <b>general paediatric dosing only</b>.<br>
    For indication-specific dosing (e.g. <i>Strep A, otitis media, pneumonia</i>),
    refer to <b>local or national guidelines</b>.
  </div>

  <!-- References -->
  <p style="font-size:13px;color:#444;margin-top:15px;">
    <b>Reference:</b><br>
    MIMS Malaysia, Malaysian Paediatric Protocols (MOH), BNF for Children.<br>
    Usual dose: 20–40 mg/kg/day in divided doses (TDS).<br>
    Children ≥40 kg: use adult dosing (dose capped).
  </p>

  <p style="font-size:12px;color:#666;">
    ⚠️ For medical professionals only. Always verify with official references.
  </p>
</div>

<script>
function calculateAmox() {
  const weight = parseFloat(document.getElementById("weight").value);
  const mgPerMl = parseFloat(
    document.querySelector('input[name="strength"]:checked').value
  );

  if (!weight || weight <= 0) {
    alert("Enter weight");
    return;
  }

  let totalDailyMg;

  // Adult dosing if ≥40 kg
  if (weight >= 40) {
    totalDailyMg = 1500; // 500 mg TDS
  } else {
    totalDailyMg = weight * 25; // general paeds dose
  }

  // Cap max daily dose
  if (totalDailyMg > 3000) {
    totalDailyMg = 3000;
  }

  const doseMg = totalDailyMg / 3;
  const ml = doseMg / mgPerMl;

  document.getElementById("result").innerHTML =
    `Give <b>${ml.toFixed(1)} ml</b> per dose (TDS)<br>
     Total daily dose: ${totalDailyMg.toFixed(0)} mg` +
    (weight >= 40 ? "<br><small>(Adult dose applied)</small>" : "");
}
</script>

</body>
</html>
